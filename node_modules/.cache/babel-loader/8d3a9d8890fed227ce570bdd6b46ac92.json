{"ast":null,"code":"class Api {\n  constructor({\n    url,\n    headers\n  }) {\n    this._url = url;\n    this._headers = headers;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}cards`, {\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  getProfileInfo() {\n    return fetch(`${this._url}users/me`, {\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  editProfile(formData) {\n    return fetch(`${this._url}users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: formData.name,\n        about: formData.about\n      })\n    }).then(this._checkResponse);\n  }\n\n  postCard(newCard) {\n    return fetch(`${this._url}cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: newCard.name,\n        link: newCard.link\n      })\n    }).then(this._checkResponse);\n  }\n\n  removeCard(item) {\n    return fetch(`${this._url}cards/${item._id}`, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  putLike(id) {\n    return fetch(`${this._url}cards/likes/${id}`, {\n      method: \"PUT\",\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  deleteLike(id) {\n    return fetch(`${this._url}cards/likes/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  updateAvatar(linkAvatar) {\n    return fetch(`${this._url}users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: linkAvatar.link\n      })\n    }).then(this._checkResponse);\n  }\n\n}\n\nconst config = {\n  url: 'https://mesto.nomoreparties.co/v1/cohort-27/',\n  headers: {\n    authorization: '1c569080-bc35-458b-a387-7ec8b91017a5',\n    'Content-Type': 'application/json'\n  }\n};\nconst api = new Api(config);\nexport default api;","map":{"version":3,"sources":["/Users/anastasiaorlova/mesto-react/src/utils/api.js"],"names":["Api","constructor","url","headers","_url","_headers","_checkResponse","res","ok","json","Promise","reject","status","getInitialCards","fetch","then","getProfileInfo","editProfile","formData","method","body","JSON","stringify","name","about","postCard","newCard","link","removeCard","item","_id","putLike","id","deleteLike","updateAvatar","linkAvatar","avatar","config","authorization","api"],"mappings":"AAAA,MAAMA,GAAN,CAAU;AACNC,EAAAA,WAAW,CAAC;AAAEC,IAAAA,GAAF;AAAOC,IAAAA;AAAP,GAAD,EAAmB;AAC1B,SAAKC,IAAL,GAAYF,GAAZ;AACA,SAAKG,QAAL,GAAgBF,OAAhB;AACH;;AACDG,EAAAA,cAAc,CAACC,GAAD,EAAM;AAChB,QAAIA,GAAG,CAACC,EAAR,EAAY;AACR,aAAOD,GAAG,CAACE,IAAJ,EAAP;AACH;;AACD,WAAOC,OAAO,CAACC,MAAR,CAAgB,WAAUJ,GAAG,CAACK,MAAO,EAArC,CAAP;AACH;;AACDC,EAAAA,eAAe,GAAG;AACd,WAAOC,KAAK,CAAE,GAAE,KAAKV,IAAK,OAAd,EAAsB;AAC1BD,MAAAA,OAAO,EAAE,KAAKE;AADY,KAAtB,CAAL,CAGFU,IAHE,CAGG,KAAKT,cAHR,CAAP;AAIH;;AACDU,EAAAA,cAAc,GAAG;AACb,WAAOF,KAAK,CAAE,GAAE,KAAKV,IAAK,UAAd,EAAyB;AAC7BD,MAAAA,OAAO,EAAE,KAAKE;AADe,KAAzB,CAAL,CAGFU,IAHE,CAGG,KAAKT,cAHR,CAAP;AAKH;;AACDW,EAAAA,WAAW,CAACC,QAAD,EAAW;AAClB,WAAOJ,KAAK,CAAE,GAAE,KAAKV,IAAK,UAAd,EAAyB;AAC7Be,MAAAA,MAAM,EAAE,OADqB;AAE7BhB,MAAAA,OAAO,EAAE,KAAKE,QAFe;AAG7Be,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBC,QAAAA,IAAI,EAAEL,QAAQ,CAACK,IADE;AAEjBC,QAAAA,KAAK,EAAEN,QAAQ,CAACM;AAFC,OAAf;AAHuB,KAAzB,CAAL,CAQFT,IARE,CAQG,KAAKT,cARR,CAAP;AASH;;AACDmB,EAAAA,QAAQ,CAACC,OAAD,EAAU;AACd,WAAOZ,KAAK,CAAE,GAAE,KAAKV,IAAK,OAAd,EAAsB;AAC1Be,MAAAA,MAAM,EAAE,MADkB;AAE1BhB,MAAAA,OAAO,EAAE,KAAKE,QAFY;AAG1Be,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBC,QAAAA,IAAI,EAAEG,OAAO,CAACH,IADG;AAEjBI,QAAAA,IAAI,EAAED,OAAO,CAACC;AAFG,OAAf;AAHoB,KAAtB,CAAL,CAQFZ,IARE,CAQG,KAAKT,cARR,CAAP;AASH;;AACDsB,EAAAA,UAAU,CAACC,IAAD,EAAO;AACb,WAAOf,KAAK,CAAE,GAAE,KAAKV,IAAK,SAAQyB,IAAI,CAACC,GAAI,EAA/B,EAAkC;AACtCX,MAAAA,MAAM,EAAE,QAD8B;AAEtChB,MAAAA,OAAO,EAAE,KAAKE;AAFwB,KAAlC,CAAL,CAIFU,IAJE,CAIG,KAAKT,cAJR,CAAP;AAKH;;AACDyB,EAAAA,OAAO,CAACC,EAAD,EAAK;AACR,WAAOlB,KAAK,CAAE,GAAE,KAAKV,IAAK,eAAc4B,EAAG,EAA/B,EAAkC;AACtCb,MAAAA,MAAM,EAAE,KAD8B;AAEtChB,MAAAA,OAAO,EAAE,KAAKE;AAFwB,KAAlC,CAAL,CAIFU,IAJE,CAIG,KAAKT,cAJR,CAAP;AAKH;;AACD2B,EAAAA,UAAU,CAACD,EAAD,EAAK;AACX,WAAOlB,KAAK,CAAE,GAAE,KAAKV,IAAK,eAAc4B,EAAG,EAA/B,EAAkC;AACtCb,MAAAA,MAAM,EAAE,QAD8B;AAEtChB,MAAAA,OAAO,EAAE,KAAKE;AAFwB,KAAlC,CAAL,CAIFU,IAJE,CAIG,KAAKT,cAJR,CAAP;AAKH;;AACD4B,EAAAA,YAAY,CAACC,UAAD,EAAa;AACrB,WAAOrB,KAAK,CAAE,GAAE,KAAKV,IAAK,iBAAd,EAAgC;AACpCe,MAAAA,MAAM,EAAE,OAD4B;AAEpChB,MAAAA,OAAO,EAAE,KAAKE,QAFsB;AAGpCe,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBc,QAAAA,MAAM,EAAED,UAAU,CAACR;AADF,OAAf;AAH8B,KAAhC,CAAL,CAOFZ,IAPE,CAOG,KAAKT,cAPR,CAAP;AAQH;;AA5EK;;AA+EV,MAAM+B,MAAM,GAAG;AACXnC,EAAAA,GAAG,EAAE,8CADM;AAEXC,EAAAA,OAAO,EAAE;AACLmC,IAAAA,aAAa,EAAE,sCADV;AAEL,oBAAgB;AAFX;AAFE,CAAf;AAQA,MAAMC,GAAG,GAAG,IAAIvC,GAAJ,CAAQqC,MAAR,CAAZ;AAEA,eAAeE,GAAf","sourcesContent":["class Api {\n    constructor({ url, headers }) {\n        this._url = url;\n        this._headers = headers\n    }\n    _checkResponse(res) {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    getInitialCards() {\n        return fetch(`${this._url}cards`, {\n                headers: this._headers\n            })\n            .then(this._checkResponse)\n    }\n    getProfileInfo() {\n        return fetch(`${this._url}users/me`, {\n                headers: this._headers\n            })\n            .then(this._checkResponse)\n\n    }\n    editProfile(formData) {\n        return fetch(`${this._url}users/me`, {\n                method: 'PATCH',\n                headers: this._headers,\n                body: JSON.stringify({\n                    name: formData.name,\n                    about: formData.about\n                })\n            })\n            .then(this._checkResponse)\n    }\n    postCard(newCard) {\n        return fetch(`${this._url}cards`, {\n                method: 'POST',\n                headers: this._headers,\n                body: JSON.stringify({\n                    name: newCard.name,\n                    link: newCard.link\n                })\n            })\n            .then(this._checkResponse)\n    }\n    removeCard(item) {\n        return fetch(`${this._url}cards/${item._id}`, {\n                method: \"DELETE\",\n                headers: this._headers,\n            })\n            .then(this._checkResponse)\n    }\n    putLike(id) {\n        return fetch(`${this._url}cards/likes/${id}`, {\n                method: \"PUT\",\n                headers: this._headers,\n            })\n            .then(this._checkResponse)\n    }\n    deleteLike(id) {\n        return fetch(`${this._url}cards/likes/${id}`, {\n                method: \"DELETE\",\n                headers: this._headers,\n            })\n            .then(this._checkResponse)\n    }\n    updateAvatar(linkAvatar) {\n        return fetch(`${this._url}users/me/avatar`, {\n                method: 'PATCH',\n                headers: this._headers,\n                body: JSON.stringify({\n                    avatar: linkAvatar.link\n                })\n            })\n            .then(this._checkResponse)\n    }\n}\n\nconst config = {\n    url: 'https://mesto.nomoreparties.co/v1/cohort-27/',\n    headers: {\n        authorization: '1c569080-bc35-458b-a387-7ec8b91017a5',\n        'Content-Type': 'application/json'\n    }\n}\n\nconst api = new Api(config)\n\nexport default api;"]},"metadata":{},"sourceType":"module"}